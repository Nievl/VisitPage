
<head>
	<meta charset="utf-8">
	<title> Flappy Ship </title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}
	</style>
</head>>

<body>
<script >

var step = document.body.offsetHeight / 20;

// creating ship
var ship = create('ðŸš€');
ship.style.fontSize = '50px';
function  create (str){
	var elem = document.createElement('div');
	document.body.appendChild(elem);
	elem.appendChild(document.createTextNode(str));
	elem.style.position = 'absolute';
	return elem;
}

//moving ship
var dy=0;
var y=0;
function moveY(y){
	ship.style.top = y + 'px';
}
window.onkeydown =  e => e.keyCode===32 && (dy -= 20);
setInterval( () => { 
	moveY(y); 
	dy += 1;
	y= y + dy;
	y<=0 && (y=0, dy=0);
	y > (document.body.offsetHeight - 60) && (y = (document.body.offsetHeight - 60), dy=0);
	moveObstacles (x -= 0.1);
	//if (x === 0 && ) {prompt('Crash. Enter your name')} //crash incident
}, 100 );

//create Obstacles
var x = 0;
var obstacles = createObstacles();
var obstacleViews = obstacles.map ( (y,x) => {
	var obstacle = create('ðŸ’£');
	obstacle.initX = x ;
	obstacle.style.top = step * y + 'px';
	obstacle.style.height = step  + 'px';
	obstacle.style.width = step + 'px';
	obstacle.style.color = 'red';
	obstacle.style.fontSize = '30px';
	
	return obstacle;
} )
function createObstacles() {
	var obstacles = [];
	var size = 40;
	var i = 0;
	while (i++ < size) {
		obstacles.push(Math.random() * 20 | 0);
	}
	return obstacles
}

//moving obstacles
function moveObstacles (i) {
	obstacleViews.forEach( o =>  o.style.left = step * ( i + o.initX )  + 'px') ;

}





</script>